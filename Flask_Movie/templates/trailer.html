{% extends "layout.html" %}
{% block content %}
	<style type="text/css">
		.darken:hover {
			filter: brightness(.9);
		}
		
		.fill:hover svg {
			fill: #ffc107;
		}
		
		.link {
			text-decoration: none;
		}
		.link:hover {;
			text-decoration: underline;
		}
		
		.line-clamp-2 {
			display: -webkit-box;
			overflow: hidden;
			-webkit-line-clamp: 2;
			-webkit-box-orient: vertical;
		}
		
		.scrolling-wrapper {
			overflow-x: scroll;
			white-space: nowrap;
		  scroll-snap-type: x mandatory;
			-webkit-overflow-scrolling: touch;
			scroll-padding: 1rem;
		}
	</style>
	<section class="d-flex flex-column p-0">
		<div class="container flex-grow-1 px-0 px-sm-4 py-4">
			{% with messages = get_flashed_messages(with_categories=true) %}
				{% if messages %}
					{% for category, message in messages %}
						<div class="alert alert-{{ category }}">
							{{ message }}
						</div>
					{% endfor %}
				{% endif %}
			{% endwith %}
			
			<div class="row m-0 pb-4">
				
				<div class="col-xl-8">
					<div class="ratio ratio-16x9">
					  <iframe class="embed-responsive-item rounded" src="https://www.youtube.com/embed/{{ movie[3] }}" allowfullscreen></iframe>
					</div>
				</div>
				
				<div class="col-xl-4 mt-3 mt-xl-0">
					<div class="d-flex flex-row w-100" style="height: 150px;">
						<img src="{{ movie[2] }}" class="rounded h-100" loading="lazy">
						<div style="padding-left: 12px;">
							<header class="line-clamp-2 pb-2">
								<a href="{{ url_for('movie', id_movie=id_movie, title=title) }}" class="fw-bold link text-dark">{{ title }}</a>
								<span class="fw-bold">({{ movie[0] }})</span>
							</header>
							<small class="text-muted" style="letter-spacing: .2500399947166443px;">{{ movie[4] }}</small>
						</div>
					</div>
					
					<hr>
					
					<small style="letter-spacing: .2500399947166443px;">{{ movie[1] }}</small>
					
				</div>
			</div>
						
			<div class="row m-0">
				<div class="d-flex align-items-center">
					<svg class="text-dark" xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="bi bi-square-fill" viewBox="0 0 16 16">
					  <path d="M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2z"/>
					</svg>
					<header class="fst-italic fw-lighter text-dark fs-4 ps-3">Recommended Videos</header>
				</div>
				
				<div class="scrolling-wrapper my-3 pb-3 px-3">
					{% for video in range(1) %}
						<div class="border-0 bg-white card d-inline-block p-0" style="box-shadow: 0 2px 8px rgba(0, 0, 0, .16); scroll-snap-align: start; width: 400px;">
							<div class="darken fill position-relative rounded" style="background: linear-gradient(rgba(0, 0, 0, 0) 20%, rgba(0, 0, 0, 1) 100%), url('https://img.youtube.com/vi/{{ movie[3] }}/maxresdefault.jpg'); background-size: cover; height: 225px;">
								<a href="#" class="d-flex align-items-end position-absolute bottom-0 left-0 right-0 top-0 h-100 w-100 text-decoration-none">
									<div class="text-white p-3">
										<svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-play-fill" viewBox="0 0 16 16">
										  <path d="m11.596 8.697-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z"/>
										</svg>
										<small class="ms-2" style="letter-spacing: .2500399947166443px;">Play trailer</small>
									</div>
								</a>
							</div>
								
							<div class="card-body p-3 w-100">
								<div style="height: 24px;">
									<a href="{{ url_for('movie', id_movie=id_movie, title=title) }}" class="link text-dark" style="letter-spacing: .5px;">{{ title }}</a>
								</div>
							</div>
						</div>
					{% endfor %}
				</div>
			</div>
		</div>
	</section>
{% endblock content %}