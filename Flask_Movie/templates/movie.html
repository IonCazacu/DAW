{% extends "layout.html" %}
{% block content %}
	<style type="text/css">
		.darken:hover {
			filter: brightness(.9);
		}
		.fill:hover svg {
			fill: #ffc107;
		}
		.link {
			text-decoration: none;
		}
		
		.scrolling-wrapper {
			overflow-x: scroll;
			white-space: nowrap;
		  scroll-snap-type: x mandatory;
			-webkit-overflow-scrolling: touch;
			scroll-padding: 1rem;
		}
		
		.hide-scrollbar::-webkit-scrollbar {
			display: none;
		}
		.hide-scrollbar {
			overflow: -moz-scrollbars-none;
			-ms-overflow-style: none;
		}
		
		.line-clamp-2 {
			display: -webkit-box;
			overflow: hidden;
			-webkit-line-clamp: 2;
			-webkit-box-orient: vertical;
		}
		
		.grid {
			display: grid;
			flex: 1;
			grid-gap: 6px;
			grid-template-columns: repeat(10, 1fr);
		}
		
		.review-margin {
			margin-left: 80px;
		}
		
		@media only screen and (max-width: 768px) {
			.np {
				padding: 0;
			}
			.ampw {
				padding-right: 12px;
			}
			.amviw {
				padding-left: 12px;
				padding-right: 12px;
			}
			.amsiw {
				padding: 24px 12px 0 12px;
			}
			.grid {
				grid-template-columns: repeat(3, 1fr);
			}
		}
		
		.w_15 {
			width: 15%;
		}
		.w_20 {
			width: 20%;
		}
		.w_65 {
			width: 65%;
		}
		
		@media only screen and (max-width: 576px) {
			.ampw,
			.amviw {
				padding: 0;
			}
			.review-margin {
				margin-left: 0;
			}
			.grid {
				grid-template-columns: repeat(2, 1fr);
			}
			
			.trending-index {
				width: 7.5%
			}
			.trending-title {
				width: 92.5%;
			}
		}
		
		.nlc:not(:last-child) {
			padding-bottom: 8px;
		}
	</style>
	
	<section class="p-0">
		<section style="background-color: #000;">
			<div class="container px-0 px-sm-4 py-4">
				<div class="row mx-0">
					<div class="mb-3">
						<header class="text-white pb-2" style="font-size: clamp(2rem, 5vw, 3rem);">{{ title }}</header>
						<div class="text-muted">
							<small style="letter-spacing: .2500399947166443px">{{ results[0][0][0] | custom_date('low') }}</small>
							<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-dot" viewBox="0 0 16 16">
							  <path d="M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z"/>
							</svg>
							<small style="letter-spacing: .2500399947166443px">{{ results[0][0][1] }} min</small>
						</div>
					</div>
					
					<div class="row mb-3 mx-0 np">
						<div class="col-sm-4 col-lg-3 position-relative px-0 pe-sm-1">
							<div class="darken fill">
								<a href="{{ url_for('trailer', id_movie=id_movie, title=title) }}" class="text-white">
									<img src="{{ results[0][0][6] }}" class="rounded w-100">
									<div class="d-sm-none position-absolute bottom-0 h-100 left-0 right-0 top-0 w-100" style="background: linear-gradient(rgba(0, 0, 0, 0) 20%, rgba(0, 0, 0, 1) 100%);">
										<svg class="position-absolute" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-play-fill" viewBox="0 0 16 16" style="height: clamp(3rem, 6.75vw, 3.75rem); width: clamp(3rem, 6.75vw, 3.75rem); top: 50%; left: 50%; transform: translate(-50%, -50%);">
										  <path d="m11.596 8.697-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z"/>
										</svg>
										<div class="d-flex align-items-end text-white h-100 p-3 w-100" style="letter-spacing: .5px;">Play trailer</div>
									</div>
								</a>
							</div>
						</div>
						
						<div class="col-sm-8 col-lg-7 d-none d-sm-block position-relative rounded darken fill px-0" style="background: linear-gradient(rgba(0, 0, 0, 0) 20%, rgba(0, 0, 0, 1) 100%), url('https://img.youtube.com/vi/{{ results[0][0][8] }}/maxresdefault.jpg'); background-size: cover;">
							<a href="{{ url_for('trailer', id_movie=id_movie, title=title) }}" class="d-flex align-items-end position-absolute text-decoration-none bottom-0 h-100 left-0 right-0 top-0 w-100">
								<div class="d-flex align-items-end text-white h-100 p-3 w-100">
									<svg class="position-absolute" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-play-fill" viewBox="0 0 16 16" style="height: clamp(3rem, 6.75vw, 3.75rem); width: clamp(3rem, 6.75vw, 3.75rem); top: 50%; left: 50%; transform: translate(-50%, -50%);">
									  <path d="m11.596 8.697-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z"/>
									</svg>
									<span style="font-size: clamp(1rem, 2.5vw, 1.5rem); letter-spacing: .5px;">Play trailer</span>
								</div>
							</a>
						</div>
						
						<div class="col-lg-2 amviw d-flex flex-lg-column mt-1 mt-lg-0 px-0 ps-lg-1">
							<a href="#" class="btn btn-dark border-0 d-flex align-items-center flex-lg-column justify-content-center text-decoration-none mb-0 mb-lg-1 me-1 me-lg-0 h-100 py-2 w-100">
								<svg class="{{ 'text-warning' if results[0][0][15] else 'text-secondary' }} mb-0 mb-lg-3" xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="bi bi-star-fill" viewBox="0 0 16 16" style="height: clamp(1.5rem, 2vw, 2rem); width: clamp(1.5rem, 2vw, 2rem);">
								  <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
								</svg>
								
								<div class="d-flex align-items-center justify-content-center ms-2 ms-lg-0">
									<span class="fw-bold" style="font-size: clamp(1rem, 2vw, 1.25rem); letter-spacing: .25px;">{{ '{:,.1f}'.format(results[0][0][15]) if results[0][0][15] else '---' }}</span>
									<svg class="text-muted" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-dot" viewBox="0 0 16 16">
									  <path d="M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z"/>
									</svg>
									<small class="text-muted" style="letter-spacing: .46661999821662903px;">{{ results[0][0][16] }}</small>
								</div>
							</a>
							
							{% if found[2] %}
								<a role="button" class="btn btn-dark border-0 d-flex align-items-center flex-lg-column justify-content-center text-decoration-none h-100 py-2 w-100" data-bs-toggle="modal" data-bs-target="#rating">
									<svg class="text-primary mb-0 mb-lg-3" xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="bi bi-star-fill" viewBox="0 0 16 16" style="height: clamp(1.5rem, 2vw, 2rem); width: clamp(1.5rem, 2vw, 2rem);">
									  <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
									</svg>
									<div class="fw-bold text-muted ms-2 ms-lg-0" style="font-size: clamp(.75rem, 1.75vw, 1rem); letter-spacing: .5px;">
										<span class="fw-bold text-white" style="font-size: clamp(1rem, 2vw, 1.25rem); letter-spacing: .25px;">{{ found[2] }}</span>
										/10
									</div>
								</a>
							{% else %}
								<a role="button" class="btn btn-dark border-0 d-flex align-items-center flex-lg-column justify-content-center text-decoration-none h-100 py-2 w-100" data-bs-toggle="modal" data-bs-target="#rating">
									<svg class="text-primary mb-0 mb-lg-3" xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="bi bi-star" viewBox="0 0 16 16" style="height: clamp(1.5rem, 2vw, 2rem); width: clamp(1.5rem, 2vw, 2rem);">
									  <path d="M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288L8 2.223l1.847 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.565.565 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z"/>
									</svg>
									<div class="fw-bold text-primary ms-2 ms-lg-0" style="font-size: clamp(1rem, 2vw, 1.25rem); letter-spacing: .25px;">Rate It!</div>
								</a>
							{% endif %}
						</div>
					</div>
					
					<!-- MODAL RATING -->
					<div class="modal fade px-0" id="rating" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="ratingLabel" aria-hidden="true">
					  <div class="modal-dialog modal-fullscreen-sm-down modal-dialog-centered">
					    <div class="modal-content border-0">
					      <div class="modal-header">
					        <h5 class="modal-title" id="staticBackdropLabel">Modal title</h5>
					      </div>
					      <div class="modal-body">
					        <!-- <div class="mb-3">
										<header class="small pb-2" style="font-family: Arial, sans-serif;">YOUR RATING</header>
										<div class="border border-1 rounded p-2">
											{% for i in form.mark %}
												{{ i }}
											{% endfor %}
										</div>
									</div> -->
					      </div>
					      <div class="modal-footer">
					        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
					        <button type="button" class="btn btn-primary">Understood</button>
					      </div>
					    </div>
					  </div>
					</div>
					<!-- MODAL RATING -->
					
					<div class="row mx-0">
						<div class="col-lg-8 np mb-0 mb-md-0 ps-0">
							{% if results[0][0][9] %}
								<div class="scrolling-wrapper hide-scrollbar mb-3">
									{% for genre in results[0][0][9] | custom_split %}
										<a href="#" class="btn btn-secondary bg-transparent border-1 rounded-pill py-0" style="scroll-snap-align: start;">
											<small style="letter-spacing: .2500399947166443px;">{{ genre }}</small>
										</a>
									{% endfor %}
								</div>
							{% endif %}
							
							<div>
								<header class="fw-bold text-white pb-2" style="letter-spacing: .1499200016260147px;">Overview</header>
								<span class="text-white" style="letter-spacing: .5px;">{{ results[0][0][2] }}</span>
							</div>
							
							{% if results[2] %}
								<div>
									<hr class="bg-white">
									<span class="fw-bold text-white pe-2" style="letter-spacing: .1499200016260147px;">Director(s)</span>
									
									<span>
										{% for people in results[2][:-1] %}
											<a href="{{ url_for('person', id_person=people[0], title=people[1]) }}" class="link" style="letter-spacing: .5px;">{{ people[1] }}</a>
											<svg class="text-muted" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-dot" viewBox="0 0 16 16">
											  <path d="M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z"/>
											</svg>
										{% endfor %}
										<a href="{{ url_for('person', id_person=results[2][-1][0], title=results[2][-1][1]) }}" class="link" style="letter-spacing: .5px;">{{ results[2][-1][1] }}</a>
									</span>
								</div>
							{% endif %}
								
							{% if results[3] %}
								<div>
									<hr class="bg-white">
									<span class="fw-bold text-white pe-2" style="letter-spacing: .1499200016260147px;">Writer(s)</span>
									
									<span>
										{% for people in results[3][:-1] %}
											<a href="{{ url_for('person', id_person=people[0], title=people[1]) }}" class="link" style="letter-spacing: .5px;">{{ people[1] }}</a>
											<svg class="text-muted" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-dot" viewBox="0 0 16 16">
											  <path d="M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z"/>
											</svg>
										{% endfor %}
										<a href="{{ url_for('person', id_person=results[3][-1][0], title=results[3][-1][1]) }}" class="link" style="letter-spacing: .5px;">{{ results[3][-1][1] }}</a>
									</span>
								</div>
							{% endif %}
							
							{% if results[4] %}
								<div>
									<hr class="bg-white">
									<span class="fw-bold text-white pe-2" style="letter-spacing: .1499200016260147px;">Stars</span>
									
									<span>
										{% for people in results[4][:3][:-1] %}
											<a href="{{ url_for('person', id_person=people[0], title=people[1]) }}" class="link" style="letter-spacing: .5px;">{{ people[1] }}</a>
											<svg class="text-muted" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-dot" viewBox="0 0 16 16">
											  <path d="M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z"/>
											</svg>
										{% endfor %}
										<a href="{{ url_for('person', id_person=results[4][:3][-1][0], title=results[4][:3][-1][1]) }}" class="link" style="letter-spacing: .5px;">{{ results[4][:3][-1][1] }}</a>
									</span>
								</div>
							{% endif %}
						</div>
						
						<div class="col-md-4 np pe-0">
							<!-- <a href="{{ url_for('watchlist', id_movie=id_movie) }}" class="btn btn-dark border-0 d-flex align-items-center">
								<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="currentColor" class="bi bi-plus" viewBox="0 0 16 16">
								  <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
								</svg>
								<small class="fw-bold" style="letter-spacing: .2800000011920929px;">Add to Watchlist</small>
							</a> -->
						</div>
					</div>
				</div>
			</div>
		</section>
		
		<div class="bg-white">
			<div class="container px-0 px-sm-4 py-4">
				<div class="row m-0">
					<div class="col-xl-8">
						<div class="pb-4">
							<div class="d-flex align-items-center">
								<svg class="text-dark" xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="bi bi-square-fill" viewBox="0 0 16 16">
								  <path d="M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2z"/>
								</svg>
								<header class="fst-italic fw-lighter text-dark fs-2 ps-3">Videos</header>
							</div>
							
							<div class="scrolling-wrapper my-3 p-3">
								{% for image in range(1) %}
									<div class="card border-0 darken d-inline-block fill position-relative rounded" style="background: linear-gradient(rgba(0, 0, 0, 0) 20%, rgba(0, 0, 0, 1) 100%), url('https://img.youtube.com/vi/{{ results[0][0][8] }}/maxresdefault.jpg'); background-size: cover; height: 225px; scroll-snap-align: start; width: 400px;">
										<a href="#" class="d-flex align-items-end position-absolute bottom-0 left-0 right-0 top-0 h-100 w-100 text-decoration-none">
											<div class="text-white p-3 w-100">
												<svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-play-fill" viewBox="0 0 16 16">
												  <path d="m11.596 8.697-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z"/>
												</svg>
												<small class="ms-2" style="letter-spacing: .2500399947166443px;">Play trailer</small>
											</div>
										</a>
									</div>
								{% endfor %}
							</div>
							
							<div class="mb-3">
								<a href="#" class="link" style="letter-spacing: .1499200016260147px;">VIEW ALL</a>
							</div>
						</div>
						
						<div class="pb-4">
							<div class="d-flex align-items-center">
								<svg class="text-dark" xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="bi bi-square-fill" viewBox="0 0 16 16">
								  <path d="M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2z"/>
								</svg>
								<header class="fst-italic fw-lighter text-dark fs-2 ps-3">Gallery</header>
							</div>
							
							<div class="scrolling-wrapper my-3 p-3">
								{% for image in range(1) %}
									<a href="#" class="card border-0 darken d-inline-block" style="scroll-snap-align: start; width: 200px;">
										<img src="{{ results[0][0][6] }}" class="rounded w-100" height="200" loading="lazy" style="object-fit: fill;">
									</a>
								{% endfor %}
							</div>
							
							<div class="mb-3">
								<a href="#" class="link" style="letter-spacing: .1499200016260147px;">VIEW ALL</a>
							</div>
						</div>
						<div class="pb-4">
							<div class="d-flex align-items-center">
								<svg class="text-dark" xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="bi bi-square-fill" viewBox="0 0 16 16">
								  <path d="M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2z"/>
								</svg>
								<header class="fst-italic fw-lighter text-dark fs-2 ps-3">Top Billed Cast</header>
							</div>
							
							<div class="scrolling-wrapper my-3 p-3">
								{% for people in results[4] %}
									<div class="border-0 card d-inline-block" style="scroll-snap-align: start; width: clamp(6rem, 15vw, 9rem);">
										<div class="text-center">
											<a href="#" class="darken text-decoration-none">
												<img src="{{ people[3] }}" class="rounded-circle" loading="lazy" style="height: clamp(6rem, 15vw, 9rem); object-fit: cover; width: clamp(6rem, 15vw, 9rem);">
												<header class="fw-bold text-dark text-truncate pt-3" style="letter-spacing: .1499200016260147px;">{{ people[1] }}</header>
											</a>
											<div class="small text-muted text-truncate" style="letter-spacing: .5px;">{{ people[2] }}</div>
										</div>
									</div>
								{% endfor %}
							</div>
							
							{% if results[2] %}
								<div>
									<hr>
									<span class="fw-bold text-dark pe-2" style="letter-spacing: .1499200016260147px;">Director(s)</span>
									<span>
										{% for people in results[2][:-1] %}
											<a href="{{ url_for('person', id_person=people[0], title=people[1]) }}" class="link" style="letter-spacing: .5px;">{{ people[1] }}</a>
											<svg class="text-muted" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-dot" viewBox="0 0 16 16">
											  <path d="M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z"/>
											</svg>
										{% endfor %}
										<a href="{{ url_for('person', id_person=results[2][-1][0], title=results[2][-1][1]) }}" class="link" style="letter-spacing: .5px;">{{ results[2][-1][1] }}</a>
									</span>
								</div>
							{% endif %}
								
							{% if results[3] %}
								<div>
									<hr>
									<span class="fw-bold text-dark pe-2" style="letter-spacing: .1499200016260147px;">Writer(s)</span>
									<span>
										{% for people in results[3][:-1] %}
											<a href="{{ url_for('person', id_person=people[0], title=people[1]) }}" class="link" style="letter-spacing: .5px;">{{ people[1] }}</a>
											<svg class="text-muted" xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="currentColor" class="bi bi-dot" viewBox="0 0 16 16">
											  <path d="M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z"/>
											</svg>
										{% endfor %}
										<a href="{{ url_for('person', id_person=results[3][-1][0], title=results[3][-1][1]) }}" class="link" style="letter-spacing: .5px;">{{ results[3][-1][1] }}</a>
									</span>
								</div>
							{% endif %}
							
							<div class="mb-3">
								<hr>
								<a href="#" class="link" style="letter-spacing: .1499200016260147px;">VIEW ALL</a>
							</div>
						</div>
						
						<div class="pb-4">
							<div class="d-flex align-items-center">
								<svg class="text-dark" xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="bi bi-square-fill" viewBox="0 0 16 16">
								  <path d="M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2z"/>
								</svg>
								<header class="fst-italic fw-lighter text-dark fs-2 ps-3">Recommended</header>
							</div>
							
							<div class="scrolling-wrapper my-3 p-3">
								{% for movie in range(1) %}
									<div class="border-0 bg-white card d-inline-block" style="box-shadow: 0 2px 8px rgba(0, 0, 0, .16); scroll-snap-align: start; width: 200px;">
										<a href="{{ url_for('movie', id_movie=id_movie, title=title) }}" class="darken">
											<img src="{{ results[0][0][6] }}" class="rounded-top w-100" loading="lazy">
										</a>
										<div class="card-body p-3 w-100">
											<div class="d-flex align-items-center mb-3">
												<svg class="{{ 'text-warning' if results[0][0][15] else 'text-secondary' }}" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-star-fill" viewBox="0 0 16 16">
													<path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
												</svg>
												<div>
													<span class="ms-1">{{ '{:,.1f}'.format(results[0][0][15]) if results[0][0][15] else '---' }}</span>
													<small class="text-muted">/10</small>
												</div>
											</div>
											<div class="text-truncate mb-3" style="height: 24px;">
												<a href="{{ url_for('movie', id_movie=id_movie, title=title) }}" class="link text-dark" style="letter-spacing: .5px;">{{ title }}</a>
											</div>
											
											<div class="d-grid gap-2">
												<a href="#" class="btn btn-outline-light d-flex align-items-center justify-content-center text-dark" style="box-shadow: 0 2px 8px rgba(0, 0, 0, .16);">
													<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-play-fill" viewBox="0 0 16 16">
													  <path d="m11.596 8.697-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z"/>
													</svg>
													<small class="fw-bold" style="letter-spacing: .2800000011920929px;">Trailer</small>
												</a>
											</div>
										</div>
									</div>
								{% endfor %}
							</div>
						</div>
						
						<div class="pb-4">
							<div class="d-block d-sm-flex align-items-center justify-content-between">
								<div class="d-flex align-items-center mb-2 mb-sm-0">
									<svg class="text-dark" xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="bi bi-square-fill" viewBox="0 0 16 16">
									  <path d="M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2z"/>
									</svg>
									<header class="fst-italic fw-lighter text-dark fs-2 ps-3">Rate & Review</header>
								</div>
								
								{% if current_user.is_authenticated %}
									{% if found %}
										<a href="#" class="btn btn-outline-light fw-bold border-0 text-primary" style="font-size: 14px; letter-spacing: .28px;">
											See my review
											<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-arrow-right-circle" viewBox="0 0 16 16">
											  <path fill-rule="evenodd" d="M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8zm15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM4.5 7.5a.5.5 0 0 0 0 1h5.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H4.5z"/>
											</svg>
										</a>
									{% else %}
										<a role="button" class="btn btn-outline-light fw-bold border-0 text-primary" data-bs-toggle="modal" data-bs-target="#review" style="font-size: 14px; letter-spacing: .28px;">
											<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-plus" viewBox="0 0 16 16">
											  <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
											</svg>
											<span>Review</span>
										</a>
									{% endif %}
								{% else %}
									<small class="text-muted" style="letter-spacing: .2500399947166443px;">Login to write a review</small>
								{% endif %}
							</div>
							
							{% if results[1] %}
								<div class="border-0 bg-white rounded my-3 p-3" style="box-shadow: 0 2px 8px rgba(0, 0, 0, .16);">
									{% if results[1][0][4] %}
					          <div class="d-flex align-items-center justify-content-end pt-2">
						          <svg class="text-warning" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-star-fill" viewBox="0 0 16 16">
												<path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
											</svg>
											<div>
												<span class="ms-1">{{ results[1][0][4] }}</span>
												<small class="text-muted">/10</small>
											</div>
										</div>
									{% endif %}	
									<div class="d-flex align-items-center mb-3">
										<img src="{{ results[1][0][1] }}" class="rounded-circle" height="64" width="64" loading="lazy" style="object-fit: cover;">
										<div class="ms-3" style="letter-spacing: .2500399947166443px;">
											<div class="pb-2">
												by
												<a href="#" class="link">{{ results[1][0][0] }}</a>
											</div>
						          <div class="d-flex align-items-center small text-muted">{{ results[1][0][5] | custom_date('high') }}</div>
						        </div>
									</div>
									
									<div class="review-margin">
										<header class="fs-5 fw-bold pb-2" style="letter-spacing: .25px;">{{ results[1][0][2] }}</header>
										<span>{{ results[1][0][3] }}</span>
									</div>
								</div>
								
								<div class="mb-3">
									<a href="{{ url_for('reviews', id_movie=id_movie, title=title) }}" class="link" style="letter-spacing: .1499200016260147px;">VIEW ALL</a>
								</div>
							{% else %}
								<div class="my-3" style="letter-spacing: .5px;">We don't have any reviews for {{ title }}</div>
							{% endif %}
							
							<!-- MODAL REVIEW -->
							<div class="modal fade" id="review" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="reviewLabel" aria-hidden="true">
							  <div class="modal-dialog m-0">
							    <div class="modal-content border-0 d-flex flex-column rounded-0 min-vh-100 w-100">
							      <div class="modal-header">
							      	<div class="d-flex flex-row w-100" style="height: 100px;">
												<img src="{{ results[0][0][6] }}" class="rounded h-100">
												<div class="h-100 w-100" style="padding-left: 12px;">
													<header class="line-clamp-2 text-muted" style="font-family: Arial, sans-serif; font-size: 14px;">
														<span class="text-dark" style="font-size: 18px;">{{ title }}</span>
														({{ results[0][0][0] | custom_date('low') }})
													</header>
													<hr class="my-1">
													<span class="fs-4" style="font-family: Arial, sans-serif;">by {{ current_user.username }}</span>
												</div>
											</div>
							      </div>
							      
							      <form method="POST" class="d-flex flex-column flex-grow-1">
											{{ form.hidden_tag() }}
								      <div class="modal-body d-flex flex-column">	
												<div class="d-flex flex-column flex-grow-1">
													<header class="small pb-2" style="font-family: Arial, sans-serif;">YOUR REVIEW</header>
													<div class="mb-3">
						                {% if form.headline.errors %}
						                	{{ form.headline(class="form-control form-control-lg is-invalid", style="font-family: Arial, sans-serif; font-size: 14px;") }}
						                	<div class="invalid-feedback">
						              			<span>{{ form.headline.errors[0] }}</span>
						                	</div>
						                {% else %}
						                	{{ form.headline(class="form-control form-control-lg small", style="font-family: Arial, sans-serif; font-size: 14px;", placeholder="Write a headline for your review here") }}
						                {% endif %}
						              </div>
						              
						              <div class="d-flex align-items-center justify-content-end small mb-2" style="font-family: Arial, sans-serif;">
						              	Minimum characters required:
						              	<span class="fw-bold ps-1">300</span>
						              </div>
						              <div class="mb-3 d-flex flex-column flex-grow-1">
							              {% if form.message.errors %}
							              	{{ form.message(class="form-control form-control-lg is-invalid", style="font-family: Arial, sans-serif; font-size: 14px;") }}
							              	<div class="invalid-feedback">
							              		{% for error in form.message.errors %}
							              			<span>{{ error }}</span>
							              		{% endfor %}
							              	</div>
							              {% else %}
							              	{{ form.message(class="form-control form-control-lg flex-grow-1", style="font-family: Arial, sans-serif; font-size: 14px;", placeholder="Write your review here") }}
							              {% endif %}
							            </div>
												</div>
								      </div>
								      <div class="modal-footer">
								        <button type="button" class="btn btn-secondary border-0" data-bs-dismiss="modal" style="font-family: Arial, sans-serif;">Close</button>
								        {{ form.submit(class="btn btn-warning border-0", style="font-family: Arial, sans-serif;") }}
								      </div>
								    </form>
							    </div>
							  </div>
							</div>
							<!-- MODAL REVIEW -->
						</div>
						
						<div>
							<div class="d-flex align-items-center">
								<svg class="text-dark" xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="bi bi-square-fill" viewBox="0 0 16 16">
								  <path d="M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2z"/>
								</svg>
								<header class="fst-italic fw-lighter text-dark fs-2 ps-3">Movie Info</header>
							</div>
							
							{% set headers = {'Status': results[0][0][5], 'Production Company(ies)': results[0][0][11], 'Production Country(ies)': results[0][0][12], 'Spoken Language(s)': results[0][0][13], 'Budget': '${:,.2f}'.format(results[0][0][3]), 'Revenue': '${:,.2f}'.format(results[0][0][4])} %}
							
							<div class="my-3 py-3">
								{% for key, value in headers.items() %}
									<div class="row nlc mx-0">
										<div class="col-md-5 d-flex justify-content-md-end np ps-0">
											<header class="fw-bold small" style="letter-spacing: .1499200016260147px;">{{ key }}</header>
										</div>
										<div class="col-md-7 np pe-0">
											<small class="" style="letter-spacing: .5px;">{{ value }}</small>
										</div>
									</div>
								{% endfor %}
							</div>
						</div>
					</div>
					
    	    <div class="col-xl-4 d-none d-xl-block">
	          <div class="content-section rounded top-0 p-3" style="box-shadow: 0 2px 8px rgba(0, 0, 0, .16);">
	          	<ul class="nav nav-fill nav-pills" id="pills-tab" role="tablist">
							  <li class="nav-item" role="presentation">
							    <button class="nav-link active fw-bold small" id="in_theaters-tab" data-bs-toggle="pill" data-bs-target="#in_theaters" type="button" role="tab" aria-controls="in_theaters" aria-selected="true">IN THEATERS</button>
							  </li>
							  <li class="nav-item" role="presentation">
							    <button class="nav-link fw-bold small" id="coming_soon-tab" data-bs-toggle="pill" data-bs-target="#coming_soon" type="button" role="tab" aria-controls="coming_soon" aria-selected="false">FRESH PICKS</button>
							  </li>
							</ul>
														
							<div class="tab-content mt-3" id="myTabContent">
							  <div class="tab-pane fade show active" id="in_theaters" role="tabpanel" aria-labelledby="in_theaters-tab">
						  		{% if results[5] %}
							  		<div class="mb-3">
							  			{% for movie in results[5] %}
												<div class="d-flex align-items-center py-2">
													<div class="d-flex align-items-center trending-index">
														<svg class="{{ 'text-warning' if movie[2] else 'text-secondary' }}" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-star-fill" viewBox="0 0 16 16">
														  <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
														</svg>
														<span class="ms-1" style="letter-spacing: 2.33338px;">{{ '{:,.1f}'.format(movie[2]) if movie[2] else '---' }}</span>
													</div>
													<div class="trending-title text-truncate ps-3">
														<a href="#" class="link text-dark" style="font-size: clamp(14px, 1.75vw, 16px); letter-spacing: .5px;">{{ movie[1] }}</a>
													</div>
												</div>
											{% endfor %}
							  		</div>
							  		<a href="#" class="link" style="letter-spacing: .1499200016260147px;">VIEW ALL</a>
							  	{% else %}
							  		<div class="my-3" style="letter-spacing: .5px;"></div>
							  	{% endif %}
							  	
							  	<hr>
							  	
							  	<div>
							  		<div class="fw-bold mb-2">COMING SOON</div>
								  	{% if results[6] %}
								  		<div class="mb-3">
								  			{% for movie in results[6] %}
								  				<div class="d-flex align-items-center justify-content-between py-2">
														<div class="d-flex align-items-center w_15">
															<svg class="{{ 'text-warning' if movie[3] else 'text-secondary' }}" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-star-fill" viewBox="0 0 16 16">
															  <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
															</svg>
															<span class="ms-1" style="letter-spacing: 2.33338px;">{{ '{:,.1f}'.format(movie[3]) if movie[3] else '---' }}</span>
														</div>
														<div class="w_65 text-truncate ps-3">
															<a href="#" class="link text-dark" style="font-size: clamp(14px, 1.75vw, 16px); letter-spacing: .5px;">{{ movie[1] }}</a>
														</div>
														<div class="d-flex align-items-center fw-bold justify-content-end w_20">{{ movie[2] | custom_date('mid') }}</div>
													</div>
									  		{% endfor %}
								  		</div>
								  		<a href="#" class="link" style="letter-spacing: .1499200016260147px;">VIEW ALL</a>
								  	{% else %}
								  		<div class="mt-3" style="letter-spacing: .5px;">No upcoming releases</div>
								  	{% endif %}
							  	</div>
							  </div>
							  
							  <div class="tab-pane fade" id="coming_soon" role="tabpanel" aria-labelledby="coming_soon-tab">
							  	
							  </div>
							</div>
	          </div>
	        </div>
					
					<div class="pt-4">
						<div class="d-flex align-items-center justify-content-between">
							<header class="fst-italic fw-bold text-dark fs-4">History</header>
							<!-- <button class="link" style="font-size: 14px; letter-spacing: .2800000011920929px;">Clear all</button> -->
							<a href="{{ url_for('clear_session') }}" class="link small" style="letter-spacing: .2800000011920929px;">CLEAR ALL</a>
						</div>
						
						{% if session['titles'] %}
							<div class="scrolling-wrapper my-3 p-3">
								{% for movie in session['titles'] %}
									{% for key, value in movie.items() %}
										<a href="{{ url_for(value[0], id_movie=value[1], title=key) if value[0] == 'movie' else url_for(value[0], id_person=value[1], title=key) }}" class="darken d-inline-block" style="scroll-snap-align: start; width: 100px;">
											<img src="{{ value[2] }}" class="rounded w-100" loading="lazy">
										</a>
									{% endfor %}
								{% endfor %}
							</div>
						{% endif %}
					</div>
				</div>
			</div>
		</div>
	</section>
	
	<script type="text/javascript">
		// document.getElementById('modal').addEventListener('click', function(){
	 //    var user = document.getElementById('user');
	 //    if (user) {
	 //      $('#staticBackdrop').modal('show');
	 //    } else {
	 //      window.location.href = '/login';
	 //    }
	 //  })
	</script>
{% endblock content %}